!function(){"use strict";angular.module("application.boiler.users",[])}(),function(){"use strict";function t(t){}t.$inject=["$state"],angular.module("application.boiler.users").controller("ProfileOverviewController",t)}(),function(){"use strict";angular.module("application.boiler.utilities",["ui.router","ngResource","ngAria","ngAnimate","ngMessages","ngResource","ngMaterial"])}(),function(){"use strict";function t(t){function e(e){var n=t.simple().content(e).action("OK").highlightAction(!1).position("bottom right").theme("success-toast");t.show(n)}function n(e){var n=t.simple().content(e).action("OK").highlightAction(!1).position("bottom right").theme("error-toast");t.show(n)}var o={success:e,error:n};return o}t.$inject=["$mdToast"],angular.module("application.boiler.utilities").factory("appToast",t)}(),function(){"use strict";function t(){function t(t){return localStorage.getItem(t)}function e(t,e){return localStorage.setItem(t,e)}function n(t){return localStorage.removeItem(t)}var o={get:t,set:e,remove:n};return o}angular.module("application.boiler.utilities").factory("appStorage",t)}(),function(){"use strict";function t(t){function e(){var e=t.get("user");return e?angular.fromJson(e):void 0}function n(){return t.get("boilerToken")}function o(){return t.get("boilerToken")}var r={getUser:e,getToken:n,isLoggedIn:o};return r}t.$inject=["appStorage"],angular.module("application.boiler.utilities").factory("appAuth",t)}(),function(){"use strict";function t(t,e){return{request:function(t){return t.headers.Authorization="Bearer "+e.get("boilerToken"),t},responseError:function(e){401!==e.status&&403!==e.status||t.$broadcast("noAccess")}}}t.$inject=["$rootScope","appStorage"],angular.module("application.boiler.utilities").factory("tokenHttpInterceptor",t)}(),function(){"use strict";function t(t,e,n){function o(){var t=n.single.get({username:i},function(){r.profile=[t.res.record]})}var r=this,i=e.username;r.profile=[],r.getProfile=o,o()}t.$inject=["$state","$stateParams","appUsers"],angular.module("application.boiler.users").controller("ProfileController",t)}(),function(){"use strict";function t(t){return{single:t("users/:username/:action",{},{forgot:{method:"POST",params:{action:"forgot"}}}),authenticate:t("users/authenticate"),reset:t("users/forgot/reset")}}t.$inject=["$resource"],angular.module("application.boiler.users").factory("appUsers",t)}(),function(){"use strict";angular.module("application.boiler.settings",[])}(),function(){"use strict";function t(t,e){return{single:t("settings/")}}t.$inject=["$resource","$rootScope"],angular.module("application.boiler.settings").factory("appSettings",t)}(),function(){"use strict";function t(t,e,n,o){function r(){var t=n.single.get({},function(){t.res.hasNoSettings?o.success("Here you can set your settings"):(s.settings=t.res.item,s.settings.theme=s.settings.theme)})}function i(t){var r=new n.single({theme:s.settings.theme});r.$save(function(t){t.success?(o.success("Your settings are saved"),e.$broadcast("settingsUpdate")):o.error(t.res.message)})}var s=this;s.getSettings=r,s.save=i,r()}t.$inject=["$state","$rootScope","appSettings","appToast"],angular.module("application.boiler.settings").controller("SettingsController",t)}(),function(){"use strict";angular.module("application.boiler.authentication",[])}(),function(){"use strict";function t(t,e,n,o,r,i,s){function a(t){u.isLoading=!0,n(function(){if(t){var e=new r.single({name:u.user.name,username:u.user.username,email:u.user.email,password:u.user.password});e.$save(function(t){t.success?(u.isLoading=!1,u.isSuccess=!0,i.success("Welcome, "+t.res.record.name),l(t.res.record,t.res.token)):(u.isLoading=!1,u.tryAgain=!0,i.error(t.res.message))})}else u.isLoading=!1,u.tryAgain=!0,i.error("Hmm... Something seems to be missing")},500)}function l(t,n){var r=angular.toJson(t);o.set("user",r),o.set("boilerToken",n),e.$broadcast("loggedIn")}var u=this;u.signup=a,u.postSignup=l,u.user={name:"",username:"",email:"",password:""}}t.$inject=["$state","$rootScope","$timeout","appStorage","appUsers","appToast","appAuth"],angular.module("application.boiler.authentication").controller("SignupController",t)}(),function(){"use strict";function t(t,e,n,o){function r(){e.hide()}function i(){var t=new n.single({email:a.attempt.email});t.$forgot({email:a.attempt.email},function(t){t.success?(a.tokenSent=!0,o.success("Great! Now you can check your email for your token")):o.error(t.res.message)})}function s(){var t=new n.reset({token:a.attempt.token,password:a.attempt.password});t.$save(function(t){t.success?o.success("Hooray!"):o.error(t.res.message)})}var a=this;a.close=r,a.generateReset=i,a.attemptReset=s,a.attempt={email:"",token:"",password:""}}t.$inject=["$state","$mdDialog","appUsers","appToast"],angular.module("application.boiler.authentication").controller("PasswordResetController",t)}(),function(){"use strict";function t(t,e,n){n.remove("user"),n.remove("boilerToken"),t.$broadcast("loggedOut"),e.go("landing")}t.$inject=["$rootScope","$state","appStorage"],angular.module("application.boiler.authentication").controller("LogoutController",t)}(),function(){"use strict";function t(t,e,n,o,r,i,s){function a(){var t=r.get("userEmail");t?(g.user.email=atob(t),g.isRemembered=!0):g.user.email=""}function l(){o.show({controller:"PasswordResetController",controllerAs:"vm",templateUrl:"/angular/authentication/reset/password.reset.html"})["finally"](function(){})}function u(t){g.isLoading=!0,n(function(){if(t){var e=new i.authenticate({email:g.user.email,password:g.user.password});if("undefined"!=typeof g.remember){var n=btoa(g.user.email);r.set("userEmail",n)}"undefined"!=typeof g.forget&&r.remove("userEmail"),e.$save(function(t){t.success?(g.isLoading=!1,g.isSuccess=!0,s.success("Welcome back, "+t.res.record.name),c(t.res.record,t.res.token)):(g.isLoading=!1,g.tryAgain=!0,s.error(t.res.message))})}else g.isLoading=!1,g.tryAgain=!0,s.error("Hmm... Something seems to be missing")},500)}function c(t,n){var o=angular.toJson(t);r.set("user",o),r.set("boilerToken",n),e.$broadcast("loggedIn")}var g=this;g.checkRemember=a,g.openPasswordReset=l,g.login=u,g.postLogin=c,g.user={email:"",password:""},a()}t.$inject=["$state","$rootScope","$timeout","$mdDialog","appStorage","appUsers","appToast"],angular.module("application.boiler.authentication").controller("LoginController",t)}(),function(){"use strict";function t(t){t.state("profile",{url:"/profile/:username","abstract":!0,templateUrl:"/angular/users/profile/profile.html",controller:"ProfileController",controllerAs:"vm"}),t.state("profile.overview",{url:"/overview",templateUrl:"/angular/users/profile/overview/overview.html",controller:"ProfileOverviewController",controllerAs:"vm"})}t.$inject=["$stateProvider"],angular.module("application.boiler.users").config(t)}(),function(){"use strict";function t(){function t(t){return n[t]}function e(t,e){o[t]=e}var n={theme:"default"},o={};this.getDefaultOptions=t,this.setDefaultOptions=e,angular.extend(o,n),this.$get=function(){function t(t,e){o[t]=e}function e(t,e){for(var r in n)o[r]=n[r];var i=angular.isDefined(e.data)&&angular.isDefined(e.data.settings)?e.data.settings:{};angular.extend(o,n,i)}return{settings:o,setOption:t,updateSettingsFromState:e}}}angular.module("application.boiler.settings").provider("settingsProvider",t)}(),function(){"use strict";function t(t){t.state("setting",{url:"/settings/:name",templateUrl:"/angular/settings/create/settings.html",controller:"SettingsController",controllerAs:"vm"})}t.$inject=["$stateProvider"],angular.module("application.boiler.settings").config(t)}(),function(){"use strict";angular.module("application.boiler.landing",[])}(),function(){"use strict";function t(t){}t.$inject=["$state"],angular.module("application.boiler.landing").controller("LandingController",t)}(),function(){"use strict";function t(t){t.state("landing",{url:"/home",templateUrl:"/angular/landing/landing.html",controller:"LandingController",controllerAs:"vm"})}t.$inject=["$stateProvider"],angular.module("application.boiler.landing").config(t)}(),function(){"use strict";function t(t){t.state("auth",{templateUrl:"/angular/authentication/auth.html","abstract":!0}),t.state("auth.signup",{url:"/signup",templateUrl:"/angular/authentication/signup/signup.html",controller:"SignupController",controllerAs:"vm"}),t.state("auth.login",{url:"/login",templateUrl:"/angular/authentication/login/login.html",controller:"LoginController",controllerAs:"vm"}),t.state("auth.logout",{url:"/logout",templateUrl:"/angular/landing/landing.html",controller:"LogoutController"})}t.$inject=["$stateProvider"],angular.module("application.boiler.authentication").config(t)}(),function(){"use strict";angular.module("application.boiler",["application.boiler.utilities","application.boiler.authentication","application.boiler.users","application.boiler.settings","application.boiler.landing"])}(),function(){"use strict";function t(t,e,n,o,r,i,s){function a(){n("left").toggle()}function l(){t.isLoggedIn=o.isLoggedIn(),t.user=o.getUser()}function u(){if(o.isLoggedIn())var e=r.single.get({},function(){e.res.hasNoSettings?t.settings=s.settings:t.settings=e.res.item});else t.settings=s.settings}var c=this;c.openUserMenu=a,c.updateLoginStatus=l,c.initializeSettings=u,l(),u(),t.$on("loggedIn",function(){l()}),t.$on("loggedOut",function(){l()}),t.$on("settingsUpdate",function(){u()})}t.$inject=["$rootScope","$state","$mdSidenav","appAuth","appSettings","appToast","settingsProvider"],angular.module("application.boiler").controller("AppController",t)}(),function(){"use strict";function t(t,e,n){e.when("","/home"),e.when("/","/home"),e.otherwise("/home"),n.interceptors.push("tokenHttpInterceptor")}t.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"],angular.module("application.boiler").config(t)}();