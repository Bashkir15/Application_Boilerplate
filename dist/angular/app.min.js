!function(){"use strict";angular.module("application.boiler.utilities",["ui.router","ngResource","ngAria","ngAnimate","ngMessages","ngResource","ngMaterial"])}(),function(){"use strict";function t(t){function e(e){var n=t.simple().content(e).action("OK").highlightAction(!1).position("bottom right").theme("success-toast");t.show(n)}function n(e){var n=t.simple().content(e).action("OK").highlightAction(!1).position("bottom right").theme("error-toast");t.show(n)}var i={success:e,error:n};return i}t.$inject=["$mdToast"],angular.module("application.boiler.utilities").factory("appToast",t)}(),function(){"use strict";function t(){function t(t){return localStorage.getItem(t)}function e(t,e){return localStorage.setItem(t,e)}function n(t){return localStorage.removeItem(t)}var i={get:t,set:e,remove:n};return i}angular.module("application.boiler.utilities").factory("appStorage",t)}(),function(){"use strict";function t(t){function e(){var e=t.get("user");return e?angular.fromJson(e):void 0}function n(){return t.get("boilerToken")}function i(){return t.get("boilerToken")}var o={getUser:e,getToken:n,isLoggedIn:i};return o}t.$inject=["appStorage"],angular.module("application.boiler.utilities").factory("appAuth",t)}(),function(){"use strict";function t(t,e){return{request:function(t){return t.headers.Authorization="Bearer "+e.get("boilerToken"),t},responseError:function(e){401!==e.status&&403!==e.status||t.$broadcast("noAccess")}}}t.$inject=["$rootScope","appStorage"],angular.module("application.boiler.utilities").factory("tokenHttpInterceptor",t)}(),function(){"use strict";angular.module("application.boiler.users",[])}(),function(){"use strict";function t(t){return{single:t("users/:userId",{userId:"@_id"}),authenticate:t("users/authenticate")}}t.$inject=["$resource"],angular.module("application.boiler.users").factory("appUsers",t)}(),function(){"use strict";angular.module("application.boiler.settings",[])}(),function(){"use strict";function t(t,e){return{single:t("settings/")}}t.$inject=["$resource","$rootScope"],angular.module("application.boiler.settings").factory("appSettings",t)}(),function(){"use strict";function t(t,e,n,i){function o(){var t=n.single.get({},function(){t.res.hasNoSettings?i.success("Here you can set your settings"):(s.settings=t.res.item,s.settings.theme=s.settings.theme)})}function r(t){var o=new n.single({theme:s.settings.theme});o.$save(function(t){t.success?(i.success("Your settings are saved"),e.$broadcast("settingsUpdate")):i.error(t.res.message)})}var s=this;s.getSettings=o,s.save=r,o()}t.$inject=["$state","$rootScope","appSettings","appToast"],angular.module("application.boiler.settings").controller("SettingsController",t)}(),function(){"use strict";angular.module("application.boiler.authentication",[])}(),function(){"use strict";function t(t,e,n,i,o,r,s){function a(t){l.isLoading=!0,n(function(){if(t){var e=new o.single({name:l.user.name,username:l.user.username,email:l.user.email,password:l.user.password});e.$save(function(t){t.success?(l.isLoading=!1,l.isSuccess=!0,r.success("Welcome, "+t.res.record.name),u(t.res.record,t.res.token)):(l.isLoading=!1,l.tryAgain=!0,r.error(t.res.message))})}else l.isLoading=!1,l.tryAgain=!0,r.error("Hmm... Something seems to be missing")},500)}function u(t,n){var o=angular.toJson(t);i.set("user",o),i.set("boilerToken",n),e.$broadcast("loggedIn")}var l=this;l.signup=a,l.postSignup=u,l.user={name:"",username:"",email:"",password:""}}t.$inject=["$state","$rootScope","$timeout","appStorage","appUsers","appToast","appAuth"],angular.module("application.boiler.authentication").controller("SignupController",t)}(),function(){"use strict";function t(t,e,n,i,o,r){function s(t){u.isLoading=!0,n(function(){if(t){var e=new o.authenticate({email:u.user.email,password:u.user.password});e.$save(function(t){t.success?(u.isLoading=!1,u.isSuccess=!0,r.success("Welcome back, "+t.res.record.name),a(t.res.record,t.res.token)):(u.isLoading=!1,u.tryAgain=!0,r.error(t.res.message))})}else u.isLoading=!1,u.tryAgain=!0,r.error("Hmm... Something seems to be missing")},500)}function a(t,n){var o=angular.toJson(t);i.set("user",o),i.set("boilerToken",n),e.$broadcast("loggedIn")}var u=this;u.login=s,u.postLogin=a,u.user={email:"",password:""}}t.$inject=["$state","$rootScope","$timeout","appStorage","appUsers","appToast"],angular.module("application.boiler.authentication").controller("LoginController",t)}(),function(){"use strict";function t(){function t(t){return n[t]}function e(t,e){i[t]=e}var n={theme:"default"},i={};this.getDefaultOptions=t,this.setDefaultOptions=e,angular.extend(i,n),this.$get=function(){function t(t,e){i[t]=e}function e(t,e){for(var o in n)i[o]=n[o];var r=angular.isDefined(e.data)&&angular.isDefined(e.data.settings)?e.data.settings:{};angular.extend(i,n,r)}return{settings:i,setOption:t,updateSettingsFromState:e}}}angular.module("application.boiler.settings").provider("settingsProvider",t)}(),function(){"use strict";function t(t){t.state("setting",{url:"/settings/:name",templateUrl:"/angular/settings/create/settings.html",controller:"SettingsController",controllerAs:"vm"})}t.$inject=["$stateProvider"],angular.module("application.boiler.settings").config(t)}(),function(){"use strict";angular.module("application.boiler.landing",[])}(),function(){"use strict";function t(t){}t.$inject=["$state"],angular.module("application.boiler.landing").controller("LandingController",t)}(),function(){"use strict";function t(t){t.state("landing",{url:"/home",templateUrl:"/angular/landing/landing.html",controller:"LandingController",controllerAs:"vm"})}t.$inject=["$stateProvider"],angular.module("application.boiler.landing").config(t)}(),function(){"use strict";function t(t){t.state("auth",{templateUrl:"/angular/authentication/auth.html","abstract":!0}),t.state("auth.signup",{url:"/signup",templateUrl:"/angular/authentication/signup/signup.html",controller:"SignupController",controllerAs:"vm"}),t.state("auth.login",{url:"/login",templateUrl:"/angular/authentication/login/login.html",controller:"LoginController",controllerAs:"vm"})}t.$inject=["$stateProvider"],angular.module("application.boiler.authentication").config(t)}(),function(){"use strict";angular.module("application.boiler",["application.boiler.utilities","application.boiler.authentication","application.boiler.users","application.boiler.settings","application.boiler.landing"])}(),function(){"use strict";function t(t,e,n,i,o,r,s){function a(){n("left").toggle()}function u(){t.isLoggedIn=i.isLoggedIn(),t.user=i.getUser()}function l(){if(i.isLoggedIn())var e=o.single.get({},function(){e.res.hasNoSettings?t.settings=s.settings:t.settings=e.res.item});else t.settings=s.settings}var c=this;c.openUserMenu=a,c.updateLoginStatus=u,c.initializeSettings=l,u(),l(),t.$on("loggedIn",function(){u()}),t.$on("loggedOut",function(){u()}),t.$on("settingsUpdate",function(){l()})}t.$inject=["$rootScope","$state","$mdSidenav","appAuth","appSettings","appToast","settingsProvider"],angular.module("application.boiler").controller("AppController",t)}(),function(){"use strict";function t(t,e,n){e.when("","/home"),e.when("/","/home"),e.otherwise("/home"),n.interceptors.push("tokenHttpInterceptor")}t.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"],angular.module("application.boiler").config(t)}();