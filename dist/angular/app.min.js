"use strict";!function(){angular.module("application.boiler.utilities",["ui.router","ngResource","ngAria","ngAnimate","ngMessages","ngResource","ngMaterial"])}(),function(){function e(e){function t(t){var o=e.simple().content(t).action("OK").highlightAction(!1).position("bottom right").theme("success-toast");e.show(o)}function o(t){var o=e.simple().content(t).action("OK").highlightAction(!1).position("bottom right").theme("error-toast");e.show(o)}var n={success:t,error:o};return n}e.$inject=["$mdToast"],angular.module("application.boiler.utilities").factory("appToast",e)}(),function(){function e(){function e(e){return localStorage.getItem(e)}function t(e,t){return localStorage.setItem(e,t)}function o(e){return localStorage.removeItem(e)}var n={get:e,set:t,remove:o};return n}angular.module("application.boiler.utilities").factory("appStorage",e)}(),function(){function e(e){function t(){var t=e.get("user");return t?angular.fromJson(t):void 0}function o(){return e.get("boilerToken")}function n(){return e.get("boilerToken")}var r={getUser:t,getToken:o,isLoggedIn:n};return r}e.$inject=["appStorage"],angular.module("application.boiler.utilities").factory("appAuth",e)}(),function(){function e(e){return{request:function(t){return t.headers.Authorization="Bearer "+e.get("boilerToken"),t}}}e.$inject=["appStorage"],angular.module("application.boiler.utilities").factory("tokenHttpInterceptor",e)}(),function(){angular.module("application.boiler.authentication",[])}(),function(){function e(e,t,o,n,r){function i(e){if(e){var t=new n.authenticate({email:s.user.email,password:s.user.password});t.$save(function(e){e.success?(r.success("Welcome back, "+e.res.record.name),a(e.res.record,e.res.token)):r.error(e.res.message)})}else r.error("Hmm... Something seems to be missing")}function a(e,n){var r=angular.toJson(e);o.set("user",r),o.set("boilerToken",n),t.$broadcast("loggedIn")}var s=this;s.login=i,s.postLogin=a,s.user={email:"",password:""}}e.$inject=["$state","$rootScope","appStorage","appUsers","appToast"],angular.module("application.boiler.authentication").controller("LoginController",e)}(),function(){function e(e,t,o,n,r){function i(e){if(e){var t=new n.single({name:s.user.name,username:s.user.username,email:s.user.email,password:s.user.password});t.$save(function(e){e.success?(r.success("Welcome! "+e.res.record.name),a(e.res.record,e.res.token)):r.error(e.res.message)})()}else r.error("Hmm... Something seems to be missing")}function a(e,n){var r=angular.toJson(e);o.set("user",r),o.set("boilerToken",n),t.$broadcast("loggedIn")}var s=this;s.signup=i,s.postSignup=a,s.user={name:"",username:"",email:"",password:""}}e.$inject=["$state","$rootScope","appStorage","appUsers","appToast"],angular.module("application.boiler.authentication").controller("SignupController",e)}(),function(){angular.module("application.boiler.users",[])}(),function(){function e(e){return{single:e("users/:userId",{userId:"@_id"}),authenticate:e("users/authenticate")}}e.$inject=["$resource"],angular.module("application.boiler.users").factory("appUsers",e)}(),function(){function e(e){e.state("signup",{url:"/signup",templateUrl:"/angular/authentication/signup/signup.html",controller:"SignupController",controllerAs:"vm"}),e.state("login",{url:"/login",templateUrl:"/angular/authentication/login/login.html",controller:"LoginController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("application.boiler.authentication").config(e)}(),function(){angular.module("application.boiler",["application.boiler.utilities","application.boiler.authentication","application.boiler.users"])}();