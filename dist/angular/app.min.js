!function(){"use strict";angular.module("application.boiler.users",[])}(),function(){"use strict";function e(e){}e.$inject=["$state"],angular.module("application.boiler.users").controller("ProfileOverviewController",e)}(),function(){"use strict";function e(e,t,o){function n(){var e=o.single.get({username:i},function(){r.profile=[e.res.record]})}var r=this,i=t.username;r.profile=[],r.getProfile=n,n()}e.$inject=["$state","$stateParams","appUsers"],angular.module("application.boiler.users").controller("ProfileController",e)}(),function(){"use strict";angular.module("application.boiler.settings",[])}(),function(){"use strict";function e(e,t){return{single:e("settings/")}}e.$inject=["$resource","$rootScope"],angular.module("application.boiler.settings").factory("appSettings",e)}(),function(){"use strict";function e(e,t,o,n){function r(){var e=o.single.get({},function(){e.res.hasNoSettings?n.success("Here you can set your settings"):(a.settings=e.res.item,a.settings.theme=a.settings.theme)})}function i(e){var r=new o.single({theme:a.settings.theme});r.$save(function(e){e.success?(n.success("Your settings are saved"),t.$broadcast("settingsUpdate")):n.error(e.res.message)})}var a=this;a.getSettings=r,a.save=i,r()}e.$inject=["$state","$rootScope","appSettings","appToast"],angular.module("application.boiler.settings").controller("SettingsController",e)}(),function(){"use strict";angular.module("application.boiler.utilities",["ui.router","ngResource","ngAria","ngAnimate","ngMessages","ngResource","ngMaterial"])}(),function(){"use strict";function e(e){function t(t){var o=e.simple().content(t).action("OK").highlightAction(!1).position("bottom right").theme("success-toast");e.show(o)}function o(t){var o=e.simple().content(t).action("OK").highlightAction(!1).position("bottom right").theme("error-toast");e.show(o)}var n={success:t,error:o};return n}e.$inject=["$mdToast"],angular.module("application.boiler.utilities").factory("appToast",e)}(),function(){"use strict";function e(){function e(e){return localStorage.getItem(e)}function t(e,t){return localStorage.setItem(e,t)}function o(e){return localStorage.removeItem(e)}var n={get:e,set:t,remove:o};return n}angular.module("application.boiler.utilities").factory("appStorage",e)}(),function(){"use strict";function e(e){function t(){var t=e.get("user");return t?angular.fromJson(t):void 0}function o(){return e.get("boilerToken")}function n(){return e.get("boilerToken")}var r={getUser:t,getToken:o,isLoggedIn:n};return r}e.$inject=["appStorage"],angular.module("application.boiler.utilities").factory("appAuth",e)}(),function(){"use strict";function e(e,t){return{request:function(e){return e.headers.Authorization="Bearer "+t.get("boilerToken"),e},responseError:function(t){401!==t.status&&403!==t.status||e.$broadcast("noAccess")}}}e.$inject=["$rootScope","appStorage"],angular.module("application.boiler.utilities").factory("tokenHttpInterceptor",e)}(),function(){"use strict";angular.module("application.boiler.dashboard",[])}(),function(){"use strict";function e(e){}e.$inject=["$state"],angular.module("application.boiler.dashboard").controller("DashboardHomeController",e)}(),function(){"use strict";function e(e){return{single:e("users/:username/:action",{},{follow:{method:"POST",params:{action:"follow"}},unfollow:{method:"POST",params:{action:"follow"}},edit:{method:"POST",params:{action:"edit"}},destroy:{method:"POST",params:{action:"destroy"}},forgot:{method:"POST",params:{action:"forgot"}}}),authenticate:e("users/authenticate"),reset:e("users/forgot/reset")}}e.$inject=["$resource"],angular.module("application.boiler.users").factory("appUsers",e)}(),function(){"use strict";angular.module("application.boiler.authentication",[])}(),function(){"use strict";function e(e,t,o,n){function r(){t.hide()}function i(){var e=new o.single({email:s.attempt.email});e.$forgot({email:s.attempt.email},function(e){e.success?(s.tokenSent=!0,n.success("Great! Now you can check your email for your token")):n.error(e.res.message)})}function a(){var e=new o.reset({token:s.attempt.token,password:s.attempt.password});e.$save(function(e){e.success?n.success("Hooray!"):n.error(e.res.message)})}var s=this;s.close=r,s.generateReset=i,s.attemptReset=a,s.attempt={email:"",token:"",password:""}}e.$inject=["$state","$mdDialog","appUsers","appToast"],angular.module("application.boiler.authentication").controller("PasswordResetController",e)}(),function(){"use strict";function e(e,t,o,n,r,i,a,s){function l(e){c.isLoading=!0,o(function(){if(e){var t=new i.single({name:c.user.name,username:c.user.username,email:c.user.email,password:c.user.password});t.$save(function(e){e.success?(c.isLoading=!1,c.isSuccess=!0,a.success("Welcome, "+e.res.record.name),u(e.res.record,e.res.token)):(c.isLoading=!1,c.tryAgain=!0,a.error(e.res.message))})}else c.isLoading=!1,c.tryAgain=!0,a.error("Hmm... Something seems to be missing")},500)}function u(e,o){var i=angular.toJson(e);r.set("user",i),r.set("boilerToken",o),n.url(e.username+"/profile-info"),t.$broadcast("loggedIn")}var c=this;c.signup=l,c.postSignup=u,c.user={name:"",username:"",email:"",password:""}}e.$inject=["$state","$rootScope","$timeout","$location","appStorage","appUsers","appToast","appAuth"],angular.module("application.boiler.authentication").controller("SignupController",e)}(),function(){"use strict";function e(e,t,o){o.remove("user"),o.remove("boilerToken"),e.$broadcast("loggedOut"),t.go("landing")}e.$inject=["$rootScope","$state","appStorage"],angular.module("application.boiler.authentication").controller("LogoutController",e)}(),function(){"use strict";function e(e,t,o,n,r,i,a){function s(){var e=r.get("userEmail");e?(g.user.email=atob(e),g.isRemembered=!0):g.user.email=""}function l(){n.show({controller:"PasswordResetController",controllerAs:"vm",templateUrl:"/angular/authentication/reset/password.reset.html"})["finally"](function(){})}function u(e){g.isLoading=!0,o(function(){if(e){var t=new i.authenticate({email:g.user.email,password:g.user.password});if("undefined"!=typeof g.remember){var o=btoa(g.user.email);r.set("userEmail",o)}"undefined"!=typeof g.forget&&r.remove("userEmail"),t.$save(function(e){e.success?(g.isLoading=!1,g.isSuccess=!0,a.success("Welcome back, "+e.res.record.name),c(e.res.record,e.res.token)):(g.isLoading=!1,g.tryAgain=!0,a.error(e.res.message))})}else g.isLoading=!1,g.tryAgain=!0,a.error("Hmm... Something seems to be missing")},500)}function c(e,o){var n=angular.toJson(e);r.set("user",n),r.set("boilerToken",o),t.$broadcast("loggedIn")}var g=this;g.checkRemember=s,g.openPasswordReset=l,g.login=u,g.postLogin=c,g.user={email:"",password:""},s()}e.$inject=["$state","$rootScope","$timeout","$mdDialog","appStorage","appUsers","appToast"],angular.module("application.boiler.authentication").controller("LoginController",e)}(),function(){"use strict";function e(e,t,o,n,r){function i(){var e=n.single.get({username:l},function(){s.user=e.res.record,s.user.gender=s.user.gender,s.user.phone=s.user.phone})}function a(){var e=n.single.get({username:l},function(){e.gender=s.user.gender,e.phone=s.user.phone,e.$edit({username:l},function(e){e.success?r.success("yay!"):r.error(e.res.message)})})}var s=this,l=t.username;s.getUser=i,s.submit=a,i()}e.$inject=["$state","$stateParams","$timeout","appUsers","appToast"],angular.module("application.boiler.authentication").controller("ProfileInfoController",e)}(),function(){"use strict";function e(){function e(e){return o[e]}function t(e,t){n[e]=t}var o={theme:"default"},n={};this.getDefaultOptions=e,this.setDefaultOptions=t,angular.extend(n,o),this.$get=function(){function e(e,t){n[e]=t}function t(e,t){for(var r in o)n[r]=o[r];var i=angular.isDefined(t.data)&&angular.isDefined(t.data.settings)?t.data.settings:{};angular.extend(n,o,i)}return{settings:n,setOption:e,updateSettingsFromState:t}}}angular.module("application.boiler.settings").provider("settingsProvider",e)}(),function(){"use strict";function e(e){e.state("setting",{url:"/settings/:name",templateUrl:"/angular/settings/create/settings.html",controller:"SettingsController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("application.boiler.settings").config(e)}(),function(){"use strict";angular.module("application.boiler.landing",[])}(),function(){"use strict";function e(e){}e.$inject=["$state"],angular.module("application.boiler.landing").controller("LandingController",e)}(),function(){"use strict";function e(e){e.state("landing",{url:"/home",templateUrl:"/angular/landing/landing.html",controller:"LandingController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("application.boiler.landing").config(e)}(),function(){"use strict";function e(e,t,o){t.username}e.$inject=["$state","$stateParams","appUsers"],angular.module("application.boiler.dashboard").controller("DashboardController",e)}(),function(){"use strict";function e(e){e.state("dashboard",{url:"/dashboard/:username",templateUrl:"/angular/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}),e.state("dashboard.home",{url:"/home",templateUrl:"/angular/dashboard/home/home.html",controller:"DashboardHomeController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("application.boiler.dashboard").config(e)}(),function(){"use strict";function e(e){e.state("profile",{url:"/profile/:username","abstract":!0,templateUrl:"/angular/users/profile/profile.html",controller:"ProfileController",controllerAs:"vm"}),e.state("profile.overview",{url:"/overview",templateUrl:"/angular/users/profile/overview/overview.html",controller:"ProfileOverviewController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("application.boiler.users").config(e)}(),function(){"use strict";function e(e){e.state("auth",{templateUrl:"/angular/authentication/auth.html","abstract":!0}),e.state("auth.signup",{url:"/signup",templateUrl:"/angular/authentication/signup/signup.html",controller:"SignupController",controllerAs:"vm"}),e.state("auth.login",{url:"/login",templateUrl:"/angular/authentication/login/login.html",controller:"LoginController",controllerAs:"vm"}),e.state("auth.logout",{url:"/logout",templateUrl:"/angular/landing/landing.html",controller:"LogoutController"}),e.state("auth.info",{url:"/:username/profile-info",templateUrl:"/angular/authentication/profileInfo/profile-info.html",controller:"ProfileInfoController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("application.boiler.authentication").config(e)}(),function(){"use strict";angular.module("application.boiler",["application.boiler.utilities","application.boiler.authentication","application.boiler.users","application.boiler.settings","application.boiler.landing","application.boiler.dashboard"])}(),function(){"use strict";function e(e,t,o,n,r,i,a){function s(){o("left").toggle()}function l(){e.isLoggedIn=n.isLoggedIn(),e.user=n.getUser()}function u(){if(n.isLoggedIn())var t=r.single.get({},function(){t.res.hasNoSettings?e.settings=a.settings:e.settings=t.res.item});else e.settings=a.settings}var c=this;c.openUserMenu=s,c.updateLoginStatus=l,c.initializeSettings=u,l(),u(),e.$on("loggedIn",function(){l()}),e.$on("loggedOut",function(){l()}),e.$on("settingsUpdate",function(){u()})}e.$inject=["$rootScope","$state","$mdSidenav","appAuth","appSettings","appToast","settingsProvider"],angular.module("application.boiler").controller("AppController",e)}(),function(){"use strict";function e(e,t,o){t.when("","/home"),t.when("/","/home"),t.otherwise("/home"),o.interceptors.push("tokenHttpInterceptor")}e.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"],angular.module("application.boiler").config(e)}();